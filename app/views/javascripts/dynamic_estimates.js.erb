var estimates = new Array();
<% for estimate in @estimates -%>
  estimates.push(new Array('<%=h estimate[:type] %>', '<%=h estimate[:complexity] %>',
    <%= estimate[:statistics][:min_effort] %>,
    <%= estimate[:statistics][:max_effort] %>,
    <%= estimate[:statistics][:avg_effort] %>,
    <%= estimate[:statistics][:min_size] %>,
    <%= estimate[:statistics][:max_size] %>,
    <%= estimate[:statistics][:avg_size] %>,
    <%= estimate[:statistics][:min_rate] %>,
    <%= estimate[:statistics][:max_rate] %>,
    <%= estimate[:statistics][:avg_rate] %>));
<% end -%>

function pairSelected() {
  type = jQuery('#deliverable_type').val();
  complexity = jQuery('#complexity').val();
  if (complexity != "Complexity" && type != "Deliverable Type"){
    for (i = 0; i < estimates.length; i++){
      if (estimates[i][0] == type && estimates[i][1] == complexity){
        jQuery('#min_effort').attr('value', estimates[i][2]);
        jQuery('#max_effort').attr('value', estimates[i][3]);
        jQuery('#avg_effort').attr('value', estimates[i][4]);
        jQuery('#min_size').attr('value', estimates[i][5]);
        jQuery('#max_size').attr('value', estimates[i][6]);
        jQuery('#avg_size').attr('value', estimates[i][7]);
        jQuery('#min_rate').attr('value', estimates[i][8]);
        jQuery('#max_rate').attr('value', estimates[i][9]);
        jQuery('#avg_rate').attr('value', estimates[i][10]);
        jQuery('#stats_table').show();
        break;
     }
   }
 } else {
    jQuery('#stats_table').hide();
 }
}

document.observe('dom:loaded', function() {
  jQuery('#complexity').observe('change', pairSelected);
  jQuery('#deliverable_type').observe('change', pairSelected);
});